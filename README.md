# GraphQL + Node.js

Тут два проекта, призванные ответить на вопрос _Как же работать с GraphQL из Node.js?_

- `clean-node`. Использует чистую ноду и пакет `apollo-server`. Исходит из того, что graphql схема описана и надо по ней реализовать сервер.
- `nestjs-code-to-scheme`. Более приближено к реальному проекту. Использование GraphQL вместе с фреймворком `nest.js`. При этом подход _code first_, при котором сначала пишется код, а уже по нему генерируется схема.

## Playground

Сервер GraphQL идет со встроенным playground, т.е. нет необходимости использовать Postman (хотя и можно), и плюсом идет подсказки и подсветка синтаксиса.

Плейграунд `clean-node` находится по адресу `http://localhost:4444/`. Пример запроса можно скопировать [отсюда](./clean-node/example_query.gql). Переменные [отсюда](./clean-node/example_variables.json)

Плейграунд `nestjs-code-to-scheme` находится по адресу `http://localhost:4444/api/graphql`. Пример запроса можно скопировать [отсюда](./nestjs-code-to-scheme/example_query.gql). Переменные [отсюда](./nestjs-code-to-scheme/example_variables.json)

## Вещи, которые стоит разобрать в дальнейшем
- Обработка ошибок
- Валидация. Сам сервер гарантирует, что запрос соответствует схеме согласно типам, но более умной валидации нет (такой как, например, проверка id > 0).
- Subscription. Схема поддерживает некоторую эвентную модель для асинхронного общения с клиентом. По факту это реализуется через вебсокеты, но надо разбираться как.
- nest.js - генерация кода по схеме?

## Полезные ссылки
- [Документация по схеме GraphQL](https://graphql.org/learn/)
- [Документация Apollo Server](https://www.apollographql.com/docs/apollo-server/)
- [Документация Nest.js по GraphQL](https://docs.nestjs.com/graphql/quick-start)